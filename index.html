<!docType html>
<!-- Last updated:2019/06/24 -->
<html>
<!-- HEAD -->
<head>
<meta charset="UTF-8">
<title>必杀技输入分析</title>
<script>

/* 公有变量 */
var timestampList; // 时间戳表,每一项是每次输入的时间戳
var taIn; // 输入框
var taOut; // 输出框

/* 函数 */

// 开始时
function onload(){
  timestampList = []; // 时间戳表,每一项是每次输入的时间戳
  taIn = document.getElementById('input-text');
  taOut = document.getElementById('output-text');
}

// 重置计算
function reset(){
  timestampList = [];
  taIn.value = '';
  taOut.value = '';
}

// 输入文字时
function input(){
  timestampList.push((new Date()).getTime());
  let timeDeltaList = [];
  for(let i = 1;i < timestampList.length;i++){
    timeDeltaList.push(timestampList[i]-timestampList[i-1]);
  }
  taOut.value = timeDeltaList.join(',');
}

</script>
</head>
<!-- BODY -->
<body onload="onload();">
<button id="cmd-button" style="width:200px;height:30px;" onclick="reset();">
Reset</button>
<br/>
<textarea id="input-text" style="width:800px;height:200px;" 
onkeydown="input();"></textarea>
<br/>
<textarea id="output-text" style="width:800px;height:200px;"></textarea>
<br/>
</body>
<!-- END -->
</html>
